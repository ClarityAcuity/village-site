(self.webpackChunkvillage=self.webpackChunkvillage||[]).push([[1],{1070:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(8481),a=n(7294);function i(e){void 0===e&&(e=!1);var t=(0,a.useState)(e),n=(0,r.Z)(t,2),i=n[0],o=n[1];return[i,{on:(0,a.useCallback)((function(){o(!0)}),[]),off:(0,a.useCallback)((function(){o(!1)}),[]),toggle:(0,a.useCallback)((function(){o((function(e){return!e}))}),[])}]}},1531:function(e,t,n){"use strict";n.d(t,{d:function(){return p}});var r=n(2543),a=n(9265),i=n(4526),o=n(4667),l=n(7294),c=n(8481),u=n(4059);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var d=l.forwardRef((function(e,t){var n=e.htmlWidth,r=e.htmlHeight,a=e.alt,i=f(e,["htmlWidth","htmlHeight","alt"]);return l.createElement("img",s({width:n,height:r,ref:t,alt:a},i))})),m=(0,r.G)((function(e,t){var n=e.fallbackSrc,r=e.fallback,o=e.src,m=e.align,p=e.fit,v=e.loading,h=e.ignoreFallback,g=e.crossOrigin,x=f(e,["fallbackSrc","fallback","src","align","fit","loading","ignoreFallback","crossOrigin"]),b=null!=v||h,y=function(e){var t=e.src,n=e.srcSet,r=e.onLoad,a=e.onError,i=e.crossOrigin,o=e.sizes,s=e.ignoreFallback,f=(0,l.useState)("pending"),d=(0,c.Z)(f,2),m=d[0],p=d[1];(0,l.useEffect)((function(){p(t?"loading":"pending")}),[t]);var v=(0,l.useRef)(),h=(0,l.useCallback)((function(){if(t){g();var e=new Image;e.src=t,i&&(e.crossOrigin=i),n&&(e.srcset=n),o&&(e.sizes=o),e.onload=function(e){g(),p("loaded"),null==r||r(e)},e.onerror=function(e){g(),p("failed"),null==a||a(e)},v.current=e}}),[t,i,n,o,r,a]),g=function(){v.current&&(v.current.onload=null,v.current.onerror=null,v.current=null)};return(0,u.G)((function(){if(!s)return"loading"===m&&h(),function(){g()}}),[m,h,s]),s?"loaded":m}(s({},e,{ignoreFallback:b})),E=s({ref:t,objectFit:p,objectPosition:m},b?x:(0,i.CE)(x,["onError","onLoad"]));return"loaded"!==y?r||l.createElement(a.m$.img,s({as:d,className:"chakra-image__placeholder",src:n},E)):l.createElement(a.m$.img,s({as:d,src:o,crossOrigin:g,loading:v,className:"chakra-image"},E))})),p=(0,r.G)((function(e,t){return l.createElement(a.m$.img,s({ref:t,as:d,className:"chakra-image"},e))}));o.Ts&&(m.displayName="Image")},2200:function(e,t,n){"use strict";n.d(t,{x:function(){return d}});var r=n(2543),a=n(3888),i=n(7487),o=n(9265),l=n(4526),c=n(5587),u=n(4667),s=n(7294);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=(0,r.G)((function(e,t){var n=(0,a.m)("Text",e),r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}((0,i.Lr)(e),["className","align","decoration","casing"]),u=(0,l.YU)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return s.createElement(o.m$.p,f({ref:t,className:(0,c.cx)("chakra-text",e.className)},u,r,{__css:n}))}));u.Ts&&(d.displayName="Text")},2001:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return de}});var r=n(3493),a=n.n(r),i=n(7294),o=n(7690),l=n(7361),c=n(8540),u=n(2200),s=n(5587),f=n(4238),d=n(8481),m=n(4207),p=n(1070),v=n(2543),h=n(3888),g=n(7487),x=n(9735),b=n(9265),y=n(4667),E=n(8308),O=n(7);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var j=(0,E.k)({strict:!1,name:"FormControlContext"}),T=(0,d.Z)(j,2),_=T[0],C=T[1];var P=(0,v.G)((function(e,t){var n=(0,h.j)("Form",e),r=function(e){var t=e.id,n=e.isRequired,r=e.isInvalid,a=e.isDisabled,o=e.isReadOnly,l=w(e,["id","isRequired","isInvalid","isDisabled","isReadOnly"]),c=(0,m.M)(),u=t||"field-"+c,v=u+"-label",h=u+"-feedback",g=u+"-helptext",x=i.useState(!1),b=(0,d.Z)(x,2),y=b[0],E=b[1],j=i.useState(!1),T=(0,d.Z)(j,2),_=T[0],C=T[1],P=(0,p.k)(),S=(0,d.Z)(P,2),R=S[0],N=S[1],I=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),k({id:g},e,{ref:(0,O.l)(t,(function(e){e&&C(!0)}))})}),[g]),F=i.useCallback((function(e,t){var n,i;return void 0===e&&(e={}),void 0===t&&(t=null),k({},e,{ref:t,"data-focus":(0,s.PB)(R),"data-disabled":(0,s.PB)(a),"data-invalid":(0,s.PB)(r),"data-readonly":(0,s.PB)(o),id:null!=(n=e.id)?n:v,htmlFor:null!=(i=e.htmlFor)?i:u})}),[u,a,R,r,o,v]),M=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),k({id:h},e,{ref:(0,O.l)(t,(function(e){e&&E(!0)})),"aria-live":"polite"})}),[h]),A=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),k({},e,l,{ref:t,role:"group"})}),[l]),D=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),k({},e,{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]),H=i.useCallback((function(){(0,f.A4)(N.on)}),[N]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!a,isFocused:!!R,onFocus:H,onBlur:N.off,hasFeedbackText:y,setHasFeedbackText:E,hasHelpText:_,setHasHelpText:C,id:u,labelId:v,feedbackId:h,helpTextId:g,htmlProps:l,getHelpTextProps:I,getErrorMessageProps:M,getRootProps:A,getLabelProps:F,getRequiredIndicatorProps:D}}((0,g.Lr)(e)),a=r.getRootProps,o=w(r,["getRootProps","htmlProps"]),l=(0,s.cx)("chakra-form-control",e.className),c=i.useMemo((function(){return o}),[o]);return i.createElement(_,{value:c},i.createElement(x.Fo,{value:n},i.createElement(b.m$.div,k({},a({},t),{className:l,__css:{width:"100%",position:"relative"}}))))}));y.Ts&&(P.displayName="FormControl");var S=(0,v.G)((function(e,t){var n=C(),r=(0,x.yK)(),a=(0,s.cx)("chakra-form__helper-text",e.className);return i.createElement(b.m$.div,k({},null==n?void 0:n.getHelpTextProps(e,t),{__css:r.helperText,className:a}))}));function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function I(e){var t=function(e){var t,n,r,a=C(),i=e.id,o=e.disabled,l=e.readOnly,c=e.required,u=e.isRequired,s=e.isInvalid,d=e.isReadOnly,m=e.isDisabled,p=e.onFocus,v=e.onBlur,h=N(e,["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"]),g=[];null!=a&&a.hasFeedbackText&&null!=a&&a.isInvalid&&g.push(a.feedbackId);null!=a&&a.hasHelpText&&g.push(a.helpTextId);return R({},h,{"aria-describedby":g.join(" ")||void 0,id:null!=i?i:null==a?void 0:a.id,isDisabled:null!=(t=null!=o?o:m)?t:null==a?void 0:a.isDisabled,isReadOnly:null!=(n=null!=l?l:d)?n:null==a?void 0:a.isReadOnly,isRequired:null!=(r=null!=c?c:u)?r:null==a?void 0:a.isRequired,isInvalid:null!=s?s:null==a?void 0:a.isInvalid,onFocus:(0,f.v0)(null==a?void 0:a.onFocus,p),onBlur:(0,f.v0)(null==a?void 0:a.onBlur,v)})}(e),n=t.isDisabled,r=t.isInvalid,a=t.isReadOnly,i=t.isRequired;return R({},N(t,["isDisabled","isInvalid","isReadOnly","isRequired"]),{disabled:n,readOnly:a,required:i,"aria-invalid":(0,s.Qm)(r),"aria-required":(0,s.Qm)(i),"aria-readonly":(0,s.Qm)(a)})}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}y.Ts&&(S.displayName="FormHelperText");var M=(0,v.G)((function(e,t){var n=(0,h.j)("Input",e),r=I((0,g.Lr)(e)),a=(0,s.cx)("chakra-input",e.className);return i.createElement(b.m$.input,F({},r,{__css:n.field,ref:t,className:a}))}));y.Ts&&(M.displayName="Input"),M.id="Input";var A="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location";function D(e,t){var n=e.title,r=e.latt,a=e.long;fetch(n?A+"/search/?query="+n:A+"/search/?lattlong=("+r+"),("+a+")").then((function(e){return e.json()})).then((function(e){return t(e)}))}function H(e,t){var n=e.location;fetch(A+"/"+n+"/").then((function(e){return e.json()})).then((function(e){return t(e)}))}function L(e){var t=e.id,n=e.name,r=e.location,l=e.onChange,c=(0,i.useState)(r),s=c[0],f=c[1],d=(0,i.useState)([]),m=d[0],p=d[1],v=(0,i.useRef)(a()(D,1e3));return i.createElement(o.xu,{height:"240px",margin:"24px",width:"100%",maxWidth:"1024px"},i.createElement(u.x,{as:"label"},n,": ",i.createElement("em",null,r),i.createElement(o.xu,null,i.createElement(M,{width:"50%",type:"search",id:t,name:n,onChange:function(e){var t=e.target.value;f(t),t.length&&v.current({title:t},p)},value:s}),i.createElement(o.xu,{width:" 100%",maxHeight:"150px",overflowY:"auto"},function(e){return e.map((function(e){var t=e.title,n=e.woeid;return i.createElement("div",{key:n,onClick:function(){return l(e)}},t)}))}(m)))))}L.defaultProps={id:"location",name:"Location",location:""};var W=L,q=n(1531),B=n(5697),z=n.n(B),$=n(5206),G=(z().shape({id:z().number,applicable_date:z().string,humidity:z().number,max_temp:z().number,min_temp:z().number,weather_state_abbr:z().oneOf(Object.values({SNOW:"sn",SLEET:"sl",HAIL:"h",THUNDERSTORM:"t",HEAVY_RAIN:"hr",LIGHT_RAIN:"lr",SHOWERS:"s",HEAVY_CLOUD:"hc",LIGHT_CLOUD:"lc",CLEAR:"c"}))}),$.schemeCategory10),Z=$.format("d"),U=$.format(".1f");var Y,Q=function(e){var t=e.data;return i.createElement(o.xu,{margin:"24px 0px"},i.createElement(u.x,{margin:"24px",fontSize:"36px"},"Weather"),i.createElement(l.k,{flexWrap:"wrap",justifyContent:"center"},null==t?void 0:t.map((function(e){var t=e.applicable_date,n=e.weather_state_abbr,r=e.weather_state_name,a=e.min_temp,l=e.max_temp;return i.createElement(o.xu,{key:t,minWidth:"30%",padding:"16px"},i.createElement(u.x,null,t),i.createElement(u.x,null,U(a)+" ~ "+U(l)+" °C"),i.createElement(u.x,null,r),i.createElement(q.d,{className:"weather-icon",src:"https://www.metaweather.com/static/img/weather/"+n+".svg",alt:r}))}))))},X=500,V=30,K=10,J=30,ee=50,te={MAX_TEMP:"max_temp",MIN_TEMP:"min_temp"},ne=te.MIN_TEMP,re=((Y={})[te.MAX_TEMP]="Max Temperature",Y[ne]="Min Temperature",Y);function ae(e){var t=e.data,n=e.field,r=(0,i.useMemo)((function(){if(t){var e=$.scaleBand().domain($.range(t.length)).range([ee,500-K]).padding(.1),r=$.max(t,(function(e){return e[n]})),a=$.min(t,(function(e){return e[n]}));return{xScale:e,yScale:$.scaleLinear().domain([a,r]).nice().range([X-J,V])}}return{}}),[t,n]),a=r.xScale,l=r.yScale;return i.createElement(o.xu,{width:"100%",maxWidth:"1024px",margin:"24px 0px"},i.createElement(u.x,{margin:"24px 0 0 0",fontSize:"36px"},re[n]),i.createElement("svg",{viewBox:"0 0 500 500"},i.createElement("g",null,function(){if(a&&l)return t.map((function(e,t){var r=l(e[n]);return i.createElement("rect",{key:e.id,x:a(t),y:r,height:X-J-r,width:a.bandwidth(),fill:G[t]})}))}()),i.createElement("g",{transform:"translate(0,"+(X-J)+")",fill:"none",fontSize:12,fontFamily:"sans-serif",textAnchor:"middle"},i.createElement("path",{stroke:"currentColor",d:"M40,0H"+(500-K)}),function(){if(a)return t.map((function(e,t){var n=e.id,r=e.applicable_date;return i.createElement("g",{key:n,opacity:1,transform:"translate("+(a(t)+a.bandwidth()/2)+",0)"},i.createElement("line",{stroke:"currentColor",y2:6}),i.createElement("text",{fill:"currentColor",y:9,dy:"0.71em"},r))}))}()),i.createElement("g",{transform:"translate("+ee+",0)",fill:"none",fontSize:12,fontFamily:"sans-serif",textAnchor:"end"},function(){if(l){for(var e=$.max(t,(function(e){return e[n]})),r=$.min(t,(function(e){return e[n]})),a=e-r,o=a>2?1:Number(U(a/3)),c=[],u=Number(Z(r))-o;l(u)>0;u+=o)u>=0?c.push(parseFloat(U(u))):c.push(-parseFloat(U(-u)));return c.map((function(e,t){var n=l(e);return n<=X&&i.createElement("g",{key:t,opacity:1,transform:"translate(0,"+n+")"},i.createElement("line",{stroke:"currentColor",x2:-6}),i.createElement("text",{fill:"currentColor",x:-9,dy:"0.32em"},e,"°C"))}))}}())))}ae.defaultProps={field:"max_temp"},ae.ChartTypeEnums=te;var ie=ae,oe=n(6156);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,oe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t=e.data,n=e.color,r=$.arc().innerRadius(0).outerRadius(160),a=(0,i.useMemo)((function(){return t?{pieData:$.pie().value((function(e){return e.humidity}))([t,ce(ce({},t),{},{humidity:100-t.humidity})])}:{}}),[t]).pieData;return i.createElement(o.xu,{as:"svg",maxWidth:"33%",viewBox:"0 0 400 400"},i.createElement("text",{x:200,y:36,textAnchor:"middle",fontSize:36,fill:"currentColor"},null==t?void 0:t.applicable_date),i.createElement("g",{transform:"translate(200,218)"},null==a?void 0:a.map((function(e){var t=e.index,a=e.startAngle,o=e.endAngle;return i.createElement("g",{key:t},i.createElement("path",{fill:0===t?n:"rgba(0,0,0,0)",stroke:n,strokeWidth:"1",d:r.startAngle(a).endAngle(o)()}))}))),i.createElement("text",{x:200,y:236,textAnchor:"middle",fontSize:36,fill:"currentColor"},(null==t?void 0:t.humidity)+" %"))};var se=function(e){var t=e.data;return i.createElement(o.xu,{width:"100%",maxWidth:"1024px",margin:"24px 0px"},i.createElement(u.x,{margin:"24px",fontSize:"36px"},"Humidity"),i.createElement(l.k,{flexWrap:"wrap",justifyContent:"center"},null==t?void 0:t.map((function(e,t){return i.createElement(ue,{key:e.applicable_date,data:e,color:G[t]})}))))},fe={latt_long:"25.085960,121.561478",location_type:"City",title:"Taipei",woeid:2306179};var de=function(){var e=(0,i.useState)(fe),t=e[0],n=e[1],r=(0,i.useState)(),u=r[0],s=r[1],f=(0,i.useRef)(a()(H,100)),d=(u||{}).consolidated_weather,m=void 0===d?[]:d;return(0,i.useEffect)((function(){t&&f.current({location:t.woeid},s)}),[t]),i.createElement(o.xu,{textAlign:"center"},i.createElement(l.k,{backgroundColor:"#282c34",minHeight:"100vh",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",color:"white"},i.createElement(c.r,{href:"https://cors-anywhere.herokuapp.com/corsdemo",target:"_blank",rel:"noopener noreferrer",fontSize:"36px"},"Activate cors proxy there"),i.createElement(W,{name:"Location",location:t.title,onChange:n}),m&&i.createElement(i.Fragment,null,i.createElement(Q,{data:m}),i.createElement(ie,{data:m,field:ie.ChartTypeEnums.MAX_TEMP}),i.createElement(ie,{data:m,field:ie.ChartTypeEnums.MIN_TEMP}),i.createElement(se,{data:m}))))}},2705:function(e,t,n){var r=n(5639).Symbol;e.exports=r},4239:function(e,t,n){var r=n(2705),a=n(9607),i=n(2333),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},7561:function(e,t,n){var r=n(7990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9607:function(e,t,n){var r=n(2705),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(c){}var a=o.call(e);return r&&(t?e[l]=n:delete e[l]),a}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,n){var r=n(1957),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:function(e,t,n){var r=n(3218),a=n(7771),i=n(4841),o=Math.max,l=Math.min;e.exports=function(e,t,n){var c,u,s,f,d,m,p=0,v=!1,h=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=c,r=u;return c=u=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(E,t),v?x(e):f}function y(e){var n=e-m;return void 0===m||n>=t||n<0||h&&e-p>=s}function E(){var e=a();if(y(e))return O(e);d=setTimeout(E,function(e){var n=t-(e-m);return h?l(n,s-(e-p)):n}(e))}function O(e){return d=void 0,g&&c?x(e):(c=u=void 0,f)}function k(){var e=a(),n=y(e);if(c=arguments,u=this,m=e,n){if(void 0===d)return b(m);if(h)return clearTimeout(d),d=setTimeout(E,t),x(m)}return void 0===d&&(d=setTimeout(E,t)),f}return t=i(t)||0,r(n)&&(v=!!n.leading,s=(h="maxWait"in n)?o(i(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=m=u=d=void 0},k.flush=function(){return void 0===d?f:O(a())},k}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,n){var r=n(4239),a=n(7005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(5639);e.exports=function(){return r.Date.now()}},3493:function(e,t,n){var r=n(3279),a=n(3218);e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}},4841:function(e,t,n){var r=n(7561),a=n(3218),i=n(3448),o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}}}]);
//# sourceMappingURL=1-741d5bc050ae82c7ce77.js.map